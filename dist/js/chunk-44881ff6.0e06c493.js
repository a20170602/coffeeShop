(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44881ff6"],{"0209":function(t,o,e){"use strict";var s=e("62b2"),n=e.n(s);n.a},"3fef":function(t,o,e){"use strict";e.r(o);var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"reset"},[e("van-nav-bar",{attrs:{title:"设置","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),e("van-cell",{attrs:{title:"修改密码",size:"large","is-link":""},on:{click:t.resetPwd}}),e("van-cell",{attrs:{title:"退出登录",size:"large","is-link":""},on:{click:function(o){return t.resetEve(0)}}}),e("van-cell",{attrs:{title:"注销账号",size:"large","is-link":""},on:{click:function(o){return t.resetEve(1)}}}),e("van-popup",{staticStyle:{height:"90%","padding-top":"4px"},attrs:{round:"",position:"bottom"},on:{close:t.closeList},model:{value:t.showList,callback:function(o){t.showList=o},expression:"showList"}},[e("van-password-input",{staticStyle:{"margin-top":"40px"},attrs:{value:t.value,info:t.info,focused:t.showKeyboard},on:{focus:function(o){t.showKeyboard=!0}}}),e("van-number-keyboard",{attrs:{show:t.showKeyboard},on:{input:t.onInput,delete:t.onDelete,blur:function(o){t.showKeyboard=!1}}})],1)],1)},n=[],i=(e("c1f4"),e("c451")),a=e("4ec3"),l=e("8e17"),r=e("8876"),c={data:function(){return{showList:!1,value:"",showKeyboard:!0,oldPassword:"",password:"",hasOld:!1}},computed:{info:function(){return this.hasOld?"输入新密码":"输入旧密码"}},methods:Object(i["a"])({},Object(r["c"])(["changeLogin"]),{onClickLeft:function(){this.$router.go(-1)},resetEve:function(t){var o=this,e={0:{msg:"是否退出登录",fn:function(t){a["a"].logout({tokenString:t}).then((function(t){"F001"==t.data.code&&(l["a"].removeCookies(o),o.$toast(t.data.msg),o.changeLogin({bool:!1}),o.$router.push({name:"Login"}))}))}},1:{msg:"是否注销账号",fn:function(t){a["a"].destroyAccount({tokenString:t}).then((function(t){"G001"==t.data.code&&(l["a"].removeCookies(o),o.$toast(t.data.msg),o.changeLogin({bool:!1}),o.$router.push({name:"Login"}))}))}}};this.$dialog.confirm({title:e[t].msg}).then((function(){var s=l["a"].getCookies(o);l["a"].showLoading(o),e[t].fn(s)})).catch((function(){}))},onInput:function(t){var o=this;if(this.value=(this.value+t).slice(0,6),6==this.value.length)if(this.hasOld){if(this.oldPassword==this.value)return this.$toast("两次输入密码不能一样"),void this.closeList();var e=l["a"].getCookies(this);l["a"].showLoading(this,"正在修改密码"),a["a"].updatePassword({tokenString:e,password:this.value,oldPassword:this.oldPassword}).then((function(t){"E001"==t.data.code&&(l["a"].removeCookies(o),o.$toast(t.data.msg),o.changeLogin({bool:!1}),o.$router.push({name:"Login"})),o.$toast(t.data.msg),o.closeList()}))}else this.oldPassword=this.value,this.hasOld=!0,this.value=""},onDelete:function(){this.value=this.value.slice(0,this.value.length-1)},resetPwd:function(){this.showList=!0,this.value=""},closeList:function(){this.oldPassword="",this.password="",this.value="",this.hasOld=!1}})},u=c,h=(e("0209"),e("e90a")),d=Object(h["a"])(u,s,n,!1,null,"0ac20ef4",null);o["default"]=d.exports},"62b2":function(t,o,e){}}]);
//# sourceMappingURL=chunk-44881ff6.0e06c493.js.map