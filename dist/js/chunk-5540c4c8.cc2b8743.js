(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5540c4c8"],{9640:function(e,t,i){},a68f:function(e,t,i){"use strict";var a=i("9640"),s=i.n(a);s.a},ef46:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"nav"},[i("van-nav-bar",{attrs:{title:"收藏","left-text":"返回","left-arrow":""},on:{"click-left":e.onClickLeft},scopedSlots:e._u([{key:"right",fn:function(){return[e.allLove.length>0?i("div",[i("span",{directives:[{name:"show",rawName:"v-show",value:!e.isEdit,expression:"!isEdit"}],on:{click:function(t){return e.taggleState("isEdit")}}},[e._v("编辑")]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],on:{click:function(t){return e.taggleState("isEdit")}}},[e._v("完成")])]):e._e()]},proxy:!0}])})],1),e.allLove.length>0?[i("van-list",{attrs:{"immediate-check":!1,finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.allLove,(function(t,a){return i("van-swipe-cell",{key:a,attrs:{disabled:!e.isEdit},scopedSlots:e._u([{key:"right",fn:function(){return[i("van-button",{staticClass:"delete-button",attrs:{disabled:!t.ischecked,square:"",text:"取消收藏",type:"danger"},on:{click:function(i){return e.notlikeOne(t)}}})]},proxy:!0}],null,!0)},[i("div",{staticClass:"item border-bottom",on:{click:function(i){return e.goDetail(t)}}},[i("div",{staticClass:"left"},[i("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],model:{value:t.ischecked,callback:function(i){e.$set(t,"ischecked",i)},expression:"item.ischecked"}})],1),i("div",{staticClass:"img"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.smallImg,expression:"item.smallImg"}],attrs:{src:t.smallImg,alt:""}})]),i("div",{staticClass:"content"},[i("p",{staticClass:"title"},[e._v(" "+e._s(t.name)+" "),i("span",{staticClass:"price"},[e._v("￥"+e._s(t.price))])]),i("p",{staticClass:"time"},[e._v(e._s(t.enname))])])])])})),1),i("div",{staticClass:"bottom",class:{"is-open":e.isEdit}},[i("div",{staticClass:"left"},[i("van-checkbox",{on:{click:e.selAll},model:{value:e.checkedAll,callback:function(t){e.checkedAll=t},expression:"checkedAll"}},[e._v("全选")])],1),i("div",[i("van-button",{attrs:{disabled:!e.checkedAll,round:"",type:"default",color:"#ff4121",size:"small"},on:{click:e.notlikeAll}},[e._v("全部不爱了")])],1)])]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.ready,expression:"ready"}],staticClass:"tag"},[e._v("快去收藏吧")])]],2)},s=[],l=(i("af82"),i("9a14"),i("c451")),o=i("8876"),n=i("4ec3"),c=i("8e17"),d={data:function(){return{loading:!1,checkedAll:!1,ready:!1}},created:function(){var e=this;this.$store.commit("loveModule/empty");var t=c["a"].getCookies(this);n["a"].findAllLike({tokenString:t}).then((function(t){if(2e3==t.data.code){var i=t.data.result;i.forEach((function(e){e.ischecked=!1})),e.$store.commit("loveModule/changeData",{key:"allLoveData",data:i}),e.$store.commit("loveModule/loadingOne",{t:e})}}))},mounted:function(){var e=this;setTimeout((function(){e.ready=!0}),1e3)},computed:Object(l["a"])({},Object(o["d"])("loveModule",["finished","isEdit","allLove"]),{},Object(o["b"])("loveModule",["isCheckedAll"])),watch:{isCheckedAll:function(){this.checkedAll=this.isCheckedAll}},methods:{onClickLeft:function(){this.$router.go(-1)},onLoad:function(){this.$store.commit("loveModule/loadingOne",{t:this})},taggleState:function(e){this.$store.commit("loveModule/taggleState",{key:e})},selAll:function(){this.$store.commit("loveModule/changeCheckedAll",{bool:!this.checkedAll})},notlikeOne:function(e){var t=this,i=c["a"].getCookies(this);c["a"].showLoading(this,"取消收藏中..."),n["a"].notlike(Object(l["a"])({},e,{tokenString:i})).then((function(i){c["a"].clearLoading(t),900==i.data.code&&(t.$toast(i.data.msg),t.$store.commit("loveModule/delOne",{item:e}))}))},notlikeAll:function(){this.$toast("暂无此Api")},goDetail:function(e){this.isEdit||this.$router.push({name:"Detail",params:{pid:e.pid}})}}},r=d,u=(i("a68f"),i("e90a")),v=Object(u["a"])(r,a,s,!1,null,"bd8ed11a",null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-5540c4c8.cc2b8743.js.map