(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7200c567"],{"4ec3":function(e,t,a){"use strict";a("c1f4"),a("c354");var n=a("4324"),r=a("1b6a"),s=a("82ae"),o=a.n(s);o.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",o.a.defaults.baseURL="http://www.kangliuyong.com:10002",o.a.defaults.withCredentials=!0;var i=function(){function e(){Object(n["a"])(this,e),this.appkey="U2FsdGVkX19WSQ59Cg+Fj9jNZPxRC5y0xB1iV06BeNA="}return Object(r["a"])(e,[{key:"register",value:function(e){var t=e.nickName,a=e.password,n=e.phone;return o()({method:"POST",url:"/register",data:{appkey:this.appkey,nickName:t,password:a,phone:n},transformRequest:this.transformRequest})}},{key:"login",value:function(e){var t=e.phone,a=e.password;return o()({method:"POST",url:"/login",data:{appkey:this.appkey,password:a,phone:t},transformRequest:this.transformRequest})}},{key:"getBanner",value:function(){return o.a.get("/banner",{params:{appkey:this.appkey}})}},{key:"getType",value:function(){return o.a.get("/type",{params:{appkey:this.appkey}})}},{key:"getTypeProducts",value:function(e){var t=e.key,a=e.value;return o.a.get("/typeProducts",{params:{appkey:this.appkey,key:t,value:a}})}},{key:"getProductDetail",value:function(e){var t=e.pid;return o.a.get("/productDetail",{params:{appkey:this.appkey,pid:t}})}},{key:"like",value:function(e){var t=e.pid,a=e.smallImg,n=e.name,r=e.price,s=e.tokenString;return o()({method:"POST",url:"/like",data:{appkey:this.appkey,pid:t,smallImg:a,name:n,price:r,tokenString:s},transformRequest:this.transformRequest})}},{key:"notlike",value:function(e){var t=e.pid,a=e.tokenString;return o()({method:"POST",url:"/notlike",data:{appkey:this.appkey,pid:t,tokenString:a},transformRequest:this.transformRequest})}},{key:"findlike",value:function(e){var t=e.pid,a=e.tokenString;return o.a.get("/findlike",{params:{appkey:this.appkey,pid:t,tokenString:a}})}},{key:"findAllLike",value:function(e){var t=e.tokenString;return o.a.get("/findAllLike",{params:{appkey:this.appkey,tokenString:t}})}},{key:"addShopcart",value:function(e){var t=e.pid,a=e.count,n=e.rule,r=e.tokenString;return o()({method:"POST",url:"/addShopcart",data:{appkey:this.appkey,count:a,pid:t,rule:n,tokenString:r},transformRequest:this.transformRequest})}},{key:"shopcartCount",value:function(e){var t=e.tokenString;return o.a.get("/shopcartCount",{params:{appkey:this.appkey,tokenString:t}})}},{key:"findAllShopcart",value:function(e){var t=e.tokenString;return o.a.get("/findAllShopcart",{params:{appkey:this.appkey,tokenString:t}})}},{key:"modifyShopcartCount",value:function(e){var t=e.tokenString,a=e.sid,n=e.count;return o()({method:"POST",url:"/modifyShopcartCount",data:{appkey:this.appkey,tokenString:t,sid:a,count:n},transformRequest:this.transformRequest})}},{key:"removeShopcart",value:function(e){var t=e.tokenString,a=e.sids;return o()({method:"POST",url:"/removeShopcart",data:{appkey:this.appkey,tokenString:t,sids:a},transformRequest:this.transformRequest})}},{key:"deleteShopcart",value:function(e){var t=e.tokenString,a=e.sids;return o()({method:"POST",url:"/deleteShopcart",data:{appkey:this.appkey,tokenString:t,sids:a},transformRequest:this.transformRequest})}},{key:"shopcartRows",value:function(e){var t=e.tokenString;return o.a.get("/shopcartRows",{params:{appkey:this.appkey,tokenString:t}})}},{key:"addAddress",value:function(e){var t=e.tokenString,a=e.name,n=e.tel,r=e.province,s=e.city,i=e.county,u=e.addressDetail,p=e.areaCode,d=e.postalCode,l=e.isDefault;return o()({method:"POST",url:"/addAddress",data:{appkey:this.appkey,tokenString:t,name:a,tel:n,province:r,city:s,county:i,addressDetail:u,areaCode:p,postalCode:d,isDefault:l},transformRequest:this.transformRequest})}},{key:"deleteAddress",value:function(e){var t=e.tokenString,a=e.aid;return o()({method:"POST",url:"/deleteAddress",data:{appkey:this.appkey,tokenString:t,aid:a},transformRequest:this.transformRequest})}},{key:"findAddress",value:function(e){var t=e.tokenString;return o.a.get("/findAddress",{params:{appkey:this.appkey,tokenString:t}})}},{key:"editAddress",value:function(e){var t=e.tokenString,a=e.aid,n=e.name,r=e.tel,s=e.province,i=e.city,u=e.county,p=e.addressDetail,d=e.areaCode,l=e.postalCode,c=e.isDefault;return o()({method:"POST",url:"/editAddress",data:{appkey:this.appkey,tokenString:t,aid:a,name:n,tel:r,province:s,city:i,county:u,addressDetail:p,areaCode:d,postalCode:l,isDefault:c},transformRequest:this.transformRequest})}},{key:"findAddressByAid",value:function(e){var t=e.tokenString,a=e.aid;return o.a.get("/findAddressByAid",{params:{appkey:this.appkey,tokenString:t,aid:a}})}},{key:"commitShopcart",value:function(e){var t=e.tokenString,a=e.sids;return o.a.get("/commitShopcart",{params:{appkey:this.appkey,tokenString:t,sids:a}})}},{key:"pay",value:function(e){var t=e.tokenString,a=e.sids,n=e.phone,r=e.address,s=e.receiver;return o()({method:"POST",url:"/pay",data:{appkey:this.appkey,tokenString:t,sids:a,phone:n,address:r,receiver:s},transformRequest:this.transformRequest})}},{key:"findOrder",value:function(e){var t=e.tokenString,a=e.status;return o.a.get("/findOrder",{params:{appkey:this.appkey,tokenString:t,status:a}})}},{key:"receive",value:function(e){var t=e.tokenString,a=e.oid;return o()({method:"POST",url:"/receive",data:{appkey:this.appkey,tokenString:t,oid:a},transformRequest:this.transformRequest})}},{key:"removeOrder",value:function(e){var t=e.tokenString,a=e.oid;return o()({method:"POST",url:"/removeOrder",data:{appkey:this.appkey,tokenString:t,oid:a},transformRequest:this.transformRequest})}},{key:"findMy",value:function(e){var t=e.tokenString;return o.a.get("/findMy",{params:{appkey:this.appkey,tokenString:t}})}},{key:"findAccountInfo",value:function(e){var t=e.tokenString;return o.a.get("/findAccountInfo",{params:{appkey:this.appkey,tokenString:t}})}},{key:"updateNickName",value:function(e){var t=e.tokenString,a=e.nickName;return o()({method:"POST",url:"/updateNickName",data:{appkey:this.appkey,tokenString:t,nickName:a},transformRequest:this.transformRequest})}},{key:"updateDesc",value:function(e){var t=e.tokenString,a=e.desc;return o()({method:"POST",url:"/updateDesc",data:{appkey:this.appkey,tokenString:t,desc:a},transformRequest:this.transformRequest})}},{key:"updatePassword",value:function(e){var t=e.tokenString,a=e.password,n=e.oldPassword;return o()({method:"POST",url:"/updatePassword",data:{appkey:this.appkey,tokenString:t,password:a,oldPassword:n},transformRequest:this.transformRequest})}},{key:"logout",value:function(e){var t=e.tokenString;return o()({method:"POST",url:"/logout",data:{appkey:this.appkey,tokenString:t},transformRequest:this.transformRequest})}},{key:"destroyAccount",value:function(e){var t=e.tokenString;return o()({method:"POST",url:"/destroyAccount",data:{appkey:this.appkey,tokenString:t},transformRequest:this.transformRequest})}},{key:"updateAvatar",value:function(e){var t=e.tokenString,a=e.imgType,n=e.serverBase64Img;return o()({method:"POST",url:"/updateAvatar",data:{appkey:this.appkey,tokenString:t,imgType:a,serverBase64Img:n},transformRequest:this.transformRequest})}},{key:"updateUserBg",value:function(e){var t=e.tokenString,a=e.imgType,n=e.serverBase64Img;return o()({method:"POST",url:"/updateUserBg",data:{appkey:this.appkey,tokenString:t,imgType:a,serverBase64Img:n},transformRequest:this.transformRequest})}},{key:"emailValidCode",value:function(e){var t=e.email;return o()({method:"POST",url:"/emailValidCode",data:{appkey:this.appkey,email:t},transformRequest:this.transformRequest})}},{key:"retrievePassword",value:function(e){var t=e.password,a=e.phone;return o()({method:"POST",url:"/retrievePassword",data:{appkey:this.appkey,password:t,phone:a},transformRequest:this.transformRequest})}},{key:"checkValidCode",value:function(e){var t=e.validCode;return o()({method:"POST",url:"/checkValidCode",data:{appkey:this.appkey,validCode:t},transformRequest:this.transformRequest})}},{key:"transformRequest",value:function(e){var t="";for(var a in e)t+=a+"="+e[a]+"&";return t.slice(0,-1)}}]),e}();t["a"]=new i},7189:function(e,t,a){},"8e17":function(e,t,a){"use strict";a("c1f4");var n=a("4324"),r=a("1b6a"),s=function(){function e(){Object(n["a"])(this,e)}return Object(r["a"])(e,[{key:"getCookies",value:function(e){for(var t="",a=0;a<3;a++){var n=e.$cookies.get("m"+a);if(null==n)return!1;t+=n+"."}return t.slice(0,-1)}},{key:"showLoading",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"加载中";e.$toast.loading({duration:0,message:t,forbidClick:!0})}},{key:"clearLoading",value:function(e){e.$toast.clear()}},{key:"removeCookies",value:function(e){for(var t=new Date("1997-01-01"),a=0;a<3;a++)e.$cookies.set("m"+a,"",t)}},{key:"localSet",value:function(e,t){window.localStorage.setItem(e,JSON.stringify(t))}},{key:"localGet",value:function(e){return JSON.parse(window.localStorage.getItem(e))}}]),e}();t["a"]=new s},a55b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-nav-bar",{attrs:{"left-text":"回到首页","left-arrow":""},on:{"click-left":e.onClickLeft},scopedSlots:e._u([{key:"right",fn:function(){return[a("div",{on:{click:e.onClickRight}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.isLog,expression:"isLog"}]},[e._v("注册")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.isLog,expression:"!isLog"}]},[e._v("登录")])])]},proxy:!0}])}),a("div",{staticClass:"main"},[e._m(0),a("div",{staticClass:"input"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isLog,expression:"isLog"}]},[a("van-form",{on:{submit:e.onSubmit,failed:e.onFailed}},[a("van-field",{attrs:{"label-width":"20px",name:"手机号",label:"手机号",placeholder:"手机号",autocomplete:"false",rules:[{pattern:e.userPattern.phonePattern,required:!0,message:"请填写正确手机号"}]},model:{value:e.userInfo.phonenum,callback:function(t){e.$set(e.userInfo,"phonenum",t)},expression:"userInfo.phonenum"}}),a("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"请填写六位数密码",autocomplete:"false",rules:[{pattern:e.userPattern.pwdPattern,required:!0,message:"请填写六位数密码"}]},scopedSlots:e._u([{key:"right-icon",fn:function(){return[a("van-switch",{attrs:{"active-color":"#7f5839",size:"20px"},on:{click:e.btnChange},model:{value:e.switchChecked,callback:function(t){e.switchChecked=t},expression:"switchChecked"}})]},proxy:!0}]),model:{value:e.userInfo.password,callback:function(t){e.$set(e.userInfo,"password",t)},expression:"userInfo.password"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("登录")])],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLog,expression:"!isLog"}]},[a("van-form",{on:{submit:e.onSubmit,failed:e.onFailed}},[a("van-field",{attrs:{name:"手机号",label:"手机号",placeholder:"手机号",autocomplete:"false",rules:[{pattern:e.userPattern.phonePattern,required:!0,message:"请填写正确手机号"}]},model:{value:e.userInfo.phonenum,callback:function(t){e.$set(e.userInfo,"phonenum",t)},expression:"userInfo.phonenum"}}),a("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"请填写六位汉字字母组合",autocomplete:"false",rules:[{pattern:e.userPattern.userPattern,required:!0,message:"六位汉字字母组合"}]},model:{value:e.userInfo.username,callback:function(t){e.$set(e.userInfo,"username",t)},expression:"userInfo.username"}}),a("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"请填写六位数密码",autocomplete:"false",rules:[{pattern:e.userPattern.pwdPattern,required:!0,message:"请填写六位数密码"}]},scopedSlots:e._u([{key:"right-icon",fn:function(){return[a("van-switch",{attrs:{"active-color":"#7f5839",size:"20px"},on:{click:e.btnChange},model:{value:e.switchChecked,callback:function(t){e.switchChecked=t},expression:"switchChecked"}})]},proxy:!0}]),model:{value:e.userInfo.password,callback:function(t){e.$set(e.userInfo,"password",t)},expression:"userInfo.password"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("注册")])],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isLog,expression:"isLog"}],staticClass:"taggle"},[a("span",{on:{click:e.onClickRight}},[e._v("前往注册")]),a("span",{staticClass:"forget-pwd",on:{click:e.forgetPwd}},[e._v("忘记密码")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLog,expression:"!isLog"}],staticClass:"taggle"},[a("span",{on:{click:e.onClickRight}},[e._v("已有账号,前往登录")])])])]),e._m(1)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[e._v(" 让我们开始品尝 "),a("br"),e._v("咖啡吧！☕ ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bottom"},[a("p",[e._v("第三方登录")]),a("div",{staticClass:"bot-list"},[a("div",{staticClass:"bot-item iconfont icon-weixin"}),a("div",{staticClass:"bot-item iconfont icon-weibo"}),a("div",{staticClass:"bot-item iconfont icon-QQ"})])])}],s=(a("b3f9"),a("3e5e"),a("4ec3")),o=a("8e17"),i={data:function(){return{isLog:!0,switchChecked:!1,isDisabled:!1}},created:function(){var e=o["a"].getCookies(this);e&&(this.$store.commit("changeLogin",{bool:!0}),this.$router.push({name:"Home"}))},computed:{userInfo:function(){return this.$store.state.loginModule.userInfo},userPattern:function(){return this.$store.state.loginModule.userPattern}},mounted:function(){for(var e=document.querySelectorAll(".van-cell__title"),t=0;t<e.length;t++)e[t].style.flex=".3"},methods:{onClickLeft:function(){this.$router.push({name:"Home"})},onClickRight:function(){this.isLog=!this.isLog,this.$store.commit("loginModule/clearUserInfo"),this.switchChecked=!1},btnChange:function(e){var t=e.target.parentNode.parentNode.parentNode,a=t.querySelector("input");this.switchChecked?a.type="password":a.type="text"},onSubmit:function(){var e=this;this.isLog?(this.$toast.loading({duration:0,message:"登录中...",forbidClick:!0}),s["a"].login({phone:this.userInfo.phonenum,password:this.userInfo.password}).then((function(t){if(e.$store.commit("loginModule/clearUserInfo"),e.$toast.clear(),200==t.data.code){e.$toast("登录成功");for(var a=2592e3,n=t.data.token.split("."),r=0;r<n.length;r++)e.$cookies.set("m"+r,n[r],a);e.$store.commit("changeLogin",{bool:!0}),e.$router.push({name:"Home"})}else e.$toast(t.data.msg)}))):(this.$toast.loading({duration:0,message:"注册中...",forbidClick:!0}),s["a"].register({phone:this.userInfo.phonenum,password:this.userInfo.password,nickName:this.userInfo.username}).then((function(t){e.$toast.clear(),e.$store.commit("loginModule/clearUserInfo"),100==t.data.code&&e.onClickRight(),e.$toast(t.data.msg)})))},onFailed:function(){this.$toast("请输入正确信息")},forgetPwd:function(){this.$router.push({name:"Forgetpwd"})}}},u=i,p=(a("b150"),a("e90a")),d=Object(p["a"])(u,n,r,!1,null,"78327dbb",null);t["default"]=d.exports},b150:function(e,t,a){"use strict";var n=a("7189"),r=a.n(n);r.a}}]);
//# sourceMappingURL=chunk-7200c567.30f277e7.js.map